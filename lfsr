`timescale 1ns / 1ps

module lfsr_generator (
    input wire clk,
    input wire reset,
    output wire [3:0] random_code 
);

    reg [3:0] lfsr_reg;
    wire feedback;
    assign feedback = lfsr_reg[3] ^ lfsr_reg[2];

    always @(posedge clk or posedge reset) begin
        if (reset) begin
            lfsr_reg <= 4'b1001;
        end else begin
            lfsr_reg <= {lfsr_reg[2:0], feedback};
        end
    end

    assign random_code = lfsr_reg;

endmodule